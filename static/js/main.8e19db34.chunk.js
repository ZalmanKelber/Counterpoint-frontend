(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),i=n.n(a),c=n(28),r=n.n(c),o=n(5),l=n(6),d=n(8),h=n(7),u=n(13),j=n(9),p=n(4),m=(n(46),2e3),b=1500,O=1500,x=10,f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={audio:null,opacityLevels:{landing:1,title:0,menu:0}},e.componentDidMount=function(){e.startPage(),setTimeout((function(){e.firstFade(),setTimeout((function(){e.secondFade(),setTimeout((function(){e.thirdFade()}),b)}),m)}),1e3)},e.componentWillUnmount=function(){e.state.audio.pause()},e.startPage=function(){document.getElementById("landing").className="landing landing-before-transition";var t=new Audio("/Counterpoint-frontend/frontendAudio/mixolydian.wav");t.play(),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{audio:t}))},e.firstFade=function(){var t=0,n=setInterval((function(){var s=1-.3*++t*x/m;e.setState(Object(p.a)(Object(p.a)({},e.state),{},{opacityLevels:{landing:s,title:0,menu:0}})),t>=200&&(clearInterval(n),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{opacityLevels:{landing:1,title:0,menu:0}})),document.getElementById("landing").className="landing landing-after-transition")}),x)},e.secondFade=function(){var t=0,n=setInterval((function(){var s=++t*x/b;e.setState(Object(p.a)(Object(p.a)({},e.state),{},{opacityLevels:{landing:1,title:s,menu:0}})),t>=150&&clearInterval(n)}),x)},e.thirdFade=function(){var t=0;setInterval((function(){var n=++t*x/O;e.setState(Object(p.a)(Object(p.a)({},e.state),{},{opacityLevels:{landing:1,title:1,menu:n}}))}),x)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{id:"landing",style:{opacity:this.state.opacityLevels.landing},children:[Object(s.jsx)("h1",{className:"landing-title",style:{opacity:this.state.opacityLevels.title},children:"C O U N T E R P O I N T \u2003 \u2003 G E N E R A T O R"}),Object(s.jsxs)("div",{id:"menu",className:"landing-menu",style:{opacity:this.state.opacityLevels.menu},children:[Object(s.jsx)(u.b,{to:"/create",children:Object(s.jsx)("h3",{className:"menu-option",children:"GENERATE EXAMPLES"})}),Object(s.jsx)(u.b,{to:"/gallery",children:Object(s.jsx)("h3",{className:"menu-option",children:"GALLERY"})}),Object(s.jsx)(u.b,{to:"/about",children:Object(s.jsx)("h3",{className:"menu-option",children:"ABOUT"})})]})]})})}}]),n}(i.a.Component),g=(n(52),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"enter",children:Object(s.jsx)(u.b,{to:"/landing",children:Object(s.jsxs)("div",{className:"click-to-enter",children:["COUNTERPOINT GENERATOR",Object(s.jsx)("br",{}),Object(s.jsx)("hr",{}),"CLICK TO ENTER"]})})})}}]),n}(i.a.Component)),y=n(10),v=n.n(y),w=n(12),N=n(21),k=(n(54),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"navbar",children:[Object(s.jsx)("div",{className:"navbar-title",children:"COUNTERPOINT GENERATOR"}),Object(s.jsxs)("div",{className:"menu-items",children:[Object(s.jsx)("div",{className:"menu-link",onClick:function(){return window.location.reload()},children:Object(s.jsx)(u.b,{to:"/create",children:"CREATE"})}),Object(s.jsx)("div",{className:"menu-link",onClick:function(){return window.location.reload()},children:Object(s.jsx)(u.b,{to:"/gallery",children:"GALLERY"})}),Object(s.jsx)("div",{className:"menu-link",onClick:function(){return window.location.reload()},children:Object(s.jsx)(u.b,{to:"/about",children:"ABOUT"})}),Object(s.jsx)("div",{className:"menu-link",children:Object(s.jsx)(u.b,{to:"/landing",children:"HOME"})})]})]})}}]),n}(i.a.Component)),C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.showGoBackButton&&Object(s.jsx)("div",{className:"go-back-button",onClick:this.props.goBackFunction,children:"\u2190"}),!this.props.showGoBackButton&&Object(s.jsx)("div",{className:"back-button-placeholder",children:"filler"}),Object(s.jsx)("h1",{className:"create-title",children:"BUILD YOUR OWN EXAMPLE"}),Object(s.jsx)("h2",{className:"step-title",children:this.props.stepTitle}),Object(s.jsx)("div",{className:"step-description",children:this.props.stepDescription}),Object(s.jsx)("hr",{className:"step-header-rule"})]})}}]),n}(i.a.Component),F=(n(55),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateValue(n);case 2:e.props.goForward();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{stepTitle:"STEP 1: CHOOSE TYPE",showGoBackButton:!1,stepDescription:"Select a type of counterpoint exercise for the algorithm to generate. \r\n\n                                This will be a short musical composition in the style of the Italian Renaissance composer Giovanni Pierluigi da Palestrina."}),Object(s.jsx)("div",{className:"step-content",children:Object(s.jsxs)("div",{className:"show-types",children:[Object(s.jsx)("div",{className:"type-title solo-melody-title",children:"Solo Melodies: (simplest/fastest)"}),Object(s.jsxs)("div",{className:"type-selection-container",children:[Object(s.jsxs)("div",{className:"type-selection cantus-firmus",onClick:function(){return e.handleClick("cantusFirmus")},children:[Object(s.jsx)("div",{className:"type-name",children:"Cantus Firmus"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(1-5 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Simple whole-note melody that exemplifies the most basic rules of melody in ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Giovanni_Pierluigi_da_Palestrina",onClick:function(e){return e.stopPropagation()},target:"_blank",children:"Palestrina-style"})]}),Object(s.jsx)("div",{className:"preview-image cantus-firmus-preview"})]}),Object(s.jsxs)("div",{className:"type-selection free-melody",onClick:function(){return e.handleClick("freeMelody")},children:[Object(s.jsx)("div",{className:"type-name",children:"Free Melody"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(1-10 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Complete melody with different rhythmic values; displays",Object(s.jsx)("br",{})," all the rules of melody in ",Object(s.jsx)("br",{})," Palestrina-style"]}),Object(s.jsx)("div",{className:"preview-image free-melody-preview"})]})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"type-title species-counterpoint-title",children:"Species Counterpoint: (intermediate)"}),Object(s.jsxs)("div",{className:"type-selection-container",children:[Object(s.jsxs)("div",{className:"type-selection first-species",onClick:function(){return e.handleClick("twoPartFirstSpecies")},children:[Object(s.jsx)("div",{className:"type-name",children:"First Species"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(5-10 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Whole-note melody set against",Object(s.jsx)("br",{})," a Cantus Firmus; exemplifies",Object(s.jsx)("br",{}),"  the most basic rules of ",Object(s.jsx)("br",{})," harmony: all intervals between t",Object(s.jsx)("br",{})," wo simultaneous notes ",Object(s.jsx)("br",{})," are ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Consonance_and_dissonance",onClick:function(e){return e.stopPropagation()},target:"_blank",children:"consonant"})]}),Object(s.jsx)("div",{className:"preview-image first-species-preview"})]}),Object(s.jsxs)("div",{className:"type-selection second-species",onClick:function(){return e.handleClick("twoPartSecondSpecies")},children:[Object(s.jsx)("div",{className:"type-name",children:"Second Species"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(5-15 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Half-note melody set against",Object(s.jsx)("br",{}),"  a Cantus Firmus; exemplifies ",Object(s.jsx)("br",{})," simplest rules of ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Consonance_and_dissonance",onClick:function(e){return e.stopPropagation()},target:"_blank",children:"dissonance"})," ",Object(s.jsx)("br",{})," in harmony: dissonances ",Object(s.jsx)("br",{})," only occur on weak beats"]}),Object(s.jsx)("div",{className:"preview-image second-species-preview"})]}),Object(s.jsxs)("div",{className:"type-selection third-species",onClick:function(){return e.handleClick("twoPartThirdSpecies")},children:[Object(s.jsx)("div",{className:"type-name",children:"Third Species"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(5-20 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Quarter-note melody set against",Object(s.jsx)("br",{}),"  a Cantus Firmus; exemplifies ",Object(s.jsx)("br",{})," more complex rules of ",Object(s.jsx)("br",{})," dissonance in harmony:",Object(s.jsx)("br",{})," several types of dissonance ",Object(s.jsx)("br",{})," occur on weak beats"]}),Object(s.jsx)("div",{className:"preview-image third-species-preview"})]}),Object(s.jsxs)("div",{className:"type-selection fourth-species",onClick:function(){return e.handleClick("twoPartFourthSpecies")},children:[Object(s.jsx)("div",{className:"type-name",children:"Fourth Species"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(20-30 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Half-note and syncopated ",Object(s.jsx)("br",{}),"whole-note  melody set against",Object(s.jsx)("br",{})," a Cantus Firmus; dissonances ",Object(s.jsx)("br",{}),"can occur on strong beats",Object(s.jsx)("br",{})," in the form of suspensions"]}),Object(s.jsx)("div",{className:"preview-image fourth-species-preview"})]}),Object(s.jsxs)("div",{className:"type-selection fifth-species",onClick:function(){return e.handleClick("twoPartFifthSpecies")},children:[Object(s.jsx)("div",{className:"type-name",children:"Fifth Species"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(5-30 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Free melody set against a ",Object(s.jsx)("br",{})," Cantus Firmus; combines all ",Object(s.jsx)("br",{}),"rules of dissonance and harmony"]}),Object(s.jsx)("div",{className:"preview-image fifth-species-preview"})]})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"type-title two-part-counterpoint-title",children:"Two Part Counterpoint: (most complex)"}),Object(s.jsxs)("div",{className:"type-selection-container",children:[Object(s.jsxs)("div",{className:"type-selection free-counterpoint",onClick:function(){return e.handleClick("twoPartFreeCounterpoint")},children:[Object(s.jsx)("div",{className:"type-name",children:"Free Counterpoint"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(20-40 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Two free melodies set against ",Object(s.jsx)("br",{})," each other"]}),Object(s.jsx)("div",{className:"preview-image free-counterpoint-preview"})]}),Object(s.jsxs)("div",{className:"type-selection imitative-counterpoint",onClick:function(){return e.handleClick("twoPartImitativeCounterpoint")},children:[Object(s.jsx)("div",{className:"type-name",children:"Imitative Counterpoint"}),Object(s.jsx)("span",{className:"complexity-warning",children:"(20-60 seconds)"}),Object(s.jsxs)("div",{className:"type-description",children:["Two free melodies that begin",Object(s.jsx)("br",{}),"  with the same theme or motif"]}),Object(s.jsx)("div",{className:"preview-image imitative-counterpoint-preview"})]})]})]})})]})}}]),n}(i.a.Component)),S=(n(56),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateValue(n);case 2:e.props.goForward();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{stepTitle:"STEP 2: CHOOSE A MODE",showGoBackButton:!0,goBackFunction:this.props.goBackward,stepDescription:'Church modes are similar to the concepts of keys in music.  They define the main and supplemental \n                                pitches available for a composition as well as the main note ("tonic" or "final") that a piece of music \n                                tends to revolve around or end on.'}),Object(s.jsx)("div",{className:"step-content",children:Object(s.jsxs)("div",{className:"show-modes",children:[Object(s.jsxs)("div",{className:"mode-selection ionian",onClick:function(){return e.handleClick("ionian")},children:[Object(s.jsxs)("div",{className:"mode-header",children:[Object(s.jsx)("h3",{className:"mode-selection-title",children:"Ionian"}),Object(s.jsx)("p",{className:"mode-pitches",children:"( do re mi fa sol la si do )"})]}),Object(s.jsxs)("p",{className:"mode-quote",children:[Object(s.jsx)("em",{children:"\u201c\u2026simple as \u2018Do Re Mi\u2019\u201d"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," \u2014 Michael Jackson"]})]}),Object(s.jsxs)("div",{className:"mode-selection dorian",onClick:function(){return e.handleClick("dorian")},children:[Object(s.jsxs)("div",{className:"mode-header",children:[Object(s.jsx)("h3",{className:"mode-selection-title",children:"Dorian"}),Object(s.jsx)("p",{className:"mode-pitches",children:"( re mi fa sol la si do re )"})]}),Object(s.jsxs)("p",{className:"mode-quote",children:[Object(s.jsxs)("em",{children:["\u201c...harmony that would fittingly ",Object(s.jsx)("br",{})," imitate the utterances and",Object(s.jsx)("br",{})," accents of a brave man who is ",Object(s.jsx)("br",{})," engaged in warfare or in any ",Object(s.jsx)("br",{})," enforced business\u201d"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," \u2014 Plato"]})]}),Object(s.jsxs)("div",{className:"mode-selection phrygian",onClick:function(){return e.handleClick("phrygian")},children:[Object(s.jsxs)("div",{className:"mode-header",children:[Object(s.jsx)("h3",{className:"mode-selection-title",children:"Phrygian"}),Object(s.jsx)("p",{className:"mode-pitches",children:"( mi fa sol la si do re mi )"})]}),Object(s.jsxs)("p",{className:"mode-quote",children:[Object(s.jsxs)("em",{children:["\u201c\u2026for such a man engaged in ",Object(s.jsx)("br",{})," works of peace, not enforced but ",Object(s.jsx)("br",{})," voluntary, either trying to",Object(s.jsx)("br",{}),"  persuade somebody of something ",Object(s.jsx)("br",{})," and imploring him\u201d"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," \u2014 Plato"]})]}),Object(s.jsxs)("div",{className:"mode-selection lydian",onClick:function(){return e.handleClick("lydian")},children:[Object(s.jsxs)("div",{className:"mode-header",children:[Object(s.jsx)("h3",{className:"mode-selection-title",children:"Lydian"}),Object(s.jsx)("p",{className:"mode-pitches",children:"( fa sol la si do re mi fa )"})]}),Object(s.jsxs)("p",{className:"mode-quote",children:[Object(s.jsxs)("em",{children:["\u201c\u2026and ever, against eating",Object(s.jsx)("br",{}),"cares, lap me in soft Lydian airs\u201d"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," \u2014 John Milton"]})]}),Object(s.jsxs)("div",{className:"mode-selection mixolydian",onClick:function(){return e.handleClick("mixolydian")},children:[Object(s.jsxs)("div",{className:"mode-header",children:[Object(s.jsx)("h3",{className:"mode-selection-title",children:"Mixolydian"}),Object(s.jsx)("p",{className:"mode-pitches",children:"( sol la si do re mi fa sol )"})]}),Object(s.jsxs)("p",{className:"mode-quote",children:[Object(s.jsxs)("em",{children:["\u201cSome of them make men sad",Object(s.jsx)("br",{}),"  and grave, like the so called ",Object(s.jsx)("br",{})," Mixolydian\u201d"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," \u2014 Aristotle"]})]}),Object(s.jsxs)("div",{className:"mode-selection aeolian",onClick:function(){return e.handleClick("aeolian")},children:[Object(s.jsxs)("div",{className:"mode-header",children:[Object(s.jsx)("h3",{className:"mode-selection-title",children:"Aeolian"}),Object(s.jsx)("p",{className:"mode-pitches",children:"( la si do re mi fa sol la )"})]}),Object(s.jsxs)("p",{className:"mode-quote",children:[Object(s.jsxs)("em",{children:["\u201cThe perfection of conversation is ",Object(s.jsx)("br",{})," not to play a regular sonata, ",Object(s.jsx)("br",{})," but, like the Aeolian harp, ",Object(s.jsx)("br",{})," to await the inspiration of the ",Object(s.jsx)("br",{})," passing breeze\u201d"]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," \u2014 Edmund Burke"]})]})]})})]})}}]),n}(i.a.Component)),P=(n(57),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={selected:[],selectedIndex:null},e.getNumberOfLines=function(){return["cantusFirmus","freeMelody"].includes(e.props.currentSelections.type)?1:2},e.handleClick=function(){var t=Object(w.a)(v.a.mark((function t(n,s){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==e.getNumberOfLines()){t.next=14;break}t.t0=s,t.next=0===t.t0?4:1===t.t0?7:10;break;case 4:return t.next=6,e.props.updateValue(["alto","soprano"]);case 6:return t.abrupt("break",12);case 7:return t.next=9,e.props.updateValue(["tenor","alto"]);case 9:return t.abrupt("break",12);case 10:return t.next=12,e.props.updateValue(["bass","tenor"]);case 12:t.next=16;break;case 14:return t.next=16,e.props.updateValue([n]);case 16:e.props.goForward();case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=2===this.getNumberOfLines()?[["soprano","alto"],["alto","tenor"],["tenor","bass"]]:[["soprano"],["alto"],["tenor"],["bass"]],n=2===this.getNumberOfLines()?"TWO VOCAL RANGES":"A VOCAL RANGE",a="STEP 3: CHOOSE ".concat(n);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{stepTitle:a,showGoBackButton:!0,goBackFunction:this.props.goBackward}),Object(s.jsx)("div",{className:"step-content",children:Object(s.jsx)("div",{className:"choose-range-content",children:Object(s.jsx)("div",{className:"ranges-container",children:t.map((function(t,n){return Object(s.jsx)("div",{className:"range-list",onClick:2===e.getNumberOfLines()?function(){return e.handleClick("",n)}:null,children:t.map((function(a,i){var c="range "+a;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:c,onClick:function(){return e.handleClick(a,n)},children:Object(s.jsx)("div",{className:"range-text",children:a.toUpperCase()})}),2===e.getNumberOfLines()&&i!==t.length-1&&Object(s.jsx)("div",{className:"between-ranges",children:"and"})]},i)}))},n)}))})})})]})}}]),n}(i.a.Component)),T=(n(58),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateValue(n);case 2:e.props.goForward();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{stepTitle:"STEP 4: CHOOSE ORIENTATION",showGoBackButton:!0,goBackFunction:this.props.goBackward}),Object(s.jsx)("div",{className:"step-content",children:Object(s.jsxs)("div",{className:"cantus-firmus-index-options",children:[Object(s.jsxs)("div",{className:"cantus-firmus-index-option",onClick:function(){return e.handleClick(0)},children:["Top line: Counterpoint",Object(s.jsx)("br",{}),"Bottom line: Cantus Firmus"]}),Object(s.jsxs)("div",{className:"cantus-firmus-index-option",onClick:function(){return e.handleClick(1)},children:["Top line: Cantus Firmus",Object(s.jsx)("br",{}),"Bottom line: Counterpoint"]})]})})]})}}]),n}(i.a.Component)),A=(n(59),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateValue(n);case 2:e.props.goForward();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t="Species"===this.props.currentSelections.type.substring(this.props.currentSelections.type.length-7)?5:4,n=["twoPartFreeCounterpoint","twoPartImitativeCounterpoint"].includes(this.props.currentSelections.type)?[16,17,18]:[8,9,10,11,12],a="STEP ".concat(t,": CHOOSE NUMBER OF MEASURES");return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{stepTitle:a,showGoBackButton:!0,goBackFunction:this.props.goBackward}),Object(s.jsx)("div",{className:"step-content",children:Object(s.jsx)("div",{className:"length-options",children:n.map((function(t,n){return Object(s.jsx)("div",{className:"measure-option",onClick:function(){return e.handleClick(t)},children:t},n)}))})})]})}}]),n}(i.a.Component)),E=n(24),R=(n(60),n(61),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={waitingForResults:!0,waitingForResultsDisplayPhase:0,blobURL:null,midiPlayer:window.MIDIjs,playing:!1,inProgress:!1,midiLength:100},e.componentDidMount=Object(w.a)(v.a.mark((function t(){var n,s,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=JSON.stringify(e.props.currentSelections),s=setInterval((function(){if(e.state.blobURL)clearInterval(s),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{waitingForResultsDisplayPhase:0}));else{var t=e.state.waitingForResultsDisplayPhase+1;t%=10,e.setState(Object(p.a)(Object(p.a)({},e.state),{},{waitingForResultsDisplayPhase:t}))}}),500),(a=new XMLHttpRequest).open("POST","https://counterpoint-server.herokuapp.com/api"),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.responseType="blob",a.onerror=function(){e.tryAgain()},a.onload=function(t){var n=window.URL.createObjectURL(a.response);e.setState(Object(p.a)(Object(p.a)({},e.state),{},{blobURL:n,playing:!0,inProgress:!0})),e.state.midiPlayer.play(n),e.state.midiPlayer.get_duration(n,(function(t){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{midiLength:t}))})),e.state.midiPlayer.player_callback=function(t){t.time>e.state.midiLength&&e.setState(Object(p.a)(Object(p.a)({},e.state),{},{playing:!1,inProgress:!1}))}},a.send(n),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{waitingForResults:!1}));case 10:case"end":return t.stop()}}),t)}))),e.togglePlaying=function(){e.state.playing?e.state.midiPlayer.pause():e.state.inProgress?e.state.midiPlayer.resume():e.state.midiPlayer.play(e.state.blobURL),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{playing:!e.state.playing,inProgress:!0}))},e.componentWillUnmount=function(){e.state.midiPlayer.stop()},e.getWaitingForResultsDisplayString=function(){switch(e.state.waitingForResultsDisplayPhase){case 0:return"";case 1:return".";case 2:return"..";case 3:return"...";default:return"...composing counterpoint"}},e.getHerokuWarningString=function(){return 0===e.state.waitingForResultsDisplayPhase?"":"Note: longer requests may be delayed due to heroku timeout"},e.downloadAudio=function(){var t=document.createElement("a");t.download="counterpoint.mid",t.href=e.state.blobURL,document.body.appendChild(t),t.click(),document.body.removeChild(t)},e.tryAgain=function(){e.props.refreshDisplayResult()},e.startNew=function(){e.props.refreshState()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.getWaitingForResultsDisplayString(),t=this.getHerokuWarningString();return Object(s.jsxs)(s.Fragment,{children:[!this.state.blobURL&&Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"waiting-for-results",children:e}),Object(s.jsx)("div",{className:"heroku-warning",children:t})]}),this.state.blobURL&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h2",{className:"success-title",children:["Success!  The algorithm composed this piece based on your specifications!",Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),"Click below to download it as a MIDI file, to generate another example with the same specifications, or to start again from the beginning"]}),Object(s.jsx)("div",{className:"success-container",children:Object(s.jsx)("div",{className:"toggle-button-outer",onClick:this.togglePlaying,children:Object(s.jsx)("div",{className:this.state.playing?"pause-button":"play-button"})})}),Object(s.jsx)("h2",{className:"download-button results-button",onClick:this.downloadAudio,children:"Download MIDI"}),Object(s.jsx)("h2",{className:"generate-option results-button",onClick:this.tryAgain,children:"Try again with same parameters"}),Object(s.jsx)("h2",{className:"or",children:"or"}),Object(s.jsx)("h2",{className:"start-new results-button",onClick:this.startNew,children:"Start from the beginning"})]})]})}}]),n}(i.a.Component)),I=(n(62),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer",children:"Alex Kelber, 2020"})}}]),n}(i.a.Component)),L=(n(63),"SELECT_TYPE"),M="SELECT_MODE",B="SELECT_RANGES",D="SELECT_CANTUS_FIRMUS_INDEX",U="SELECT_LENGTH",_="DISPLAY_RESULT",G=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={currentPhase:L,selectedValues:{type:null,mode:null,lines:null,length:null,cantusFirmusIndex:0}},e.getUpdateFunction=function(t){return function(n){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{selectedValues:Object(p.a)(Object(p.a)({},e.state.selectedValues),{},Object(N.a)({},t,n))}))}},e.getChangePhaseFunction=function(t){return function(){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{currentPhase:t})),window.scrollTo(0,0)}},e.refreshState=function(){e.setState({currentPhase:L,selectedValues:{type:null,mode:null,lines:null,length:null,cantusFirmusIndex:0}}),window.scrollTo(0,0)},e.refreshDisplayResult=Object(w.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(p.a)(Object(p.a)({},e.state),{},{currentPhase:U}));case 2:e.setState(Object(p.a)(Object(p.a)({},e.state),{},{currentPhase:_}));case 3:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(n,[{key:"render",value:function(){var e,t,n,a;switch(this.state.currentPhase){case L:e=F,t=this.getChangePhaseFunction(M),a=this.getUpdateFunction("type");break;case M:e=S,t=this.getChangePhaseFunction(B),n=this.getChangePhaseFunction(L),a=this.getUpdateFunction("mode");break;case B:e=P,t="Species"===this.state.selectedValues.type.substring(this.state.selectedValues.type.length-7)?this.getChangePhaseFunction(D):this.getChangePhaseFunction(U),n=this.getChangePhaseFunction(M),a=this.getUpdateFunction("lines");break;case D:e=T,t=this.getChangePhaseFunction(U),n=this.getChangePhaseFunction(B),a=this.getUpdateFunction("cantusFirmusIndex");break;case U:e=A,t=this.getChangePhaseFunction(_),n="Species"===this.state.selectedValues.type.substring(this.state.selectedValues.type.length-7)?this.getChangePhaseFunction(D):this.getChangePhaseFunction(B),a=this.getUpdateFunction("length");break;case _:e=R}return Object(s.jsxs)("div",{className:"main",children:[Object(s.jsx)(k,{}),Object(s.jsx)(e,{goForward:t,goBackward:n,updateValue:a,currentSelections:this.state.selectedValues,refreshState:this.refreshState,refreshDisplayResult:this.refreshDisplayResult}),Object(s.jsx)(I,{})]})}}]),n}(i.a.Component),q=(n(64),["ionian","dorian","phrygian","lydian","mixolydian","aeolian"]),V=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={selectedMode:null},e.selectMode=function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{selectedMode:t}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=["".concat("/Counterpoint-frontend","/frontendAudio/ionian.wav"),"".concat("/Counterpoint-frontend","/frontendAudio/dorian.wav"),"".concat("/Counterpoint-frontend","/frontendAudio/phrygian.wav"),"".concat("/Counterpoint-frontend","/frontendAudio/lydian.wav"),"".concat("/Counterpoint-frontend","/frontendAudio/mixolydian.wav"),"".concat("/Counterpoint-frontend","/frontendAudio/aeolian.wav")],n=["".concat("/Counterpoint-frontend","/images/ionian_example.png"),"".concat("/Counterpoint-frontend","/images/dorian_example.png"),"".concat("/Counterpoint-frontend","/images/phrygian_example.png"),"".concat("/Counterpoint-frontend","/images/lydian_example.png"),"".concat("/Counterpoint-frontend","/images/mixolydian_example.png"),"".concat("/Counterpoint-frontend","/images/aeolian_example.png")];return Object(s.jsxs)("div",{className:"gallery",children:[Object(s.jsx)(k,{}),Object(s.jsx)("h1",{className:"gallery-title",children:"GALLERY"}),Object(s.jsxs)("div",{className:"gallery-middle-section",children:[Object(s.jsx)("h2",{className:"gallery-instructions",children:"Click on a mode to view one of the best examples of imitative counterpoint produced by the program"}),Object(s.jsx)("div",{className:"gallery-container",children:Object(s.jsx)("div",{className:"list-modes",children:q.map((function(t,n){return Object(s.jsx)("div",{className:t===e.state.selectedMode?"mode-title-container selected-mode-title":"mode-title-container",onClick:function(){return e.selectMode(t)},children:Object(s.jsx)("div",{className:"mode-title",children:t.charAt(0).toUpperCase()+t.slice(1)})},n)}))})})]}),q.map((function(a,i){if(e.state.selectedMode===a)return Object(s.jsxs)("div",{className:"gallery-result",children:[Object(s.jsx)("div",{className:"gallery-audio-wrapper",children:Object(s.jsx)(E.a,{autoPlay:!0,src:t[i],showJumpControls:!1,customAdditionalControls:[],customVolumeControls:[],layout:"horizontal-reverse"})}),Object(s.jsx)("img",{className:"gallery-image",src:n[i]})]},i)})),Object(s.jsx)("div",{className:"gallery-space"}),Object(s.jsx)(I,{})]})}}]),n}(i.a.Component),W=(n(65),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"about",children:[Object(s.jsx)(k,{}),Object(s.jsx)("h1",{className:"create-title",children:"ABOUT"}),Object(s.jsxs)("div",{className:"about-content",children:[Object(s.jsxs)("h3",{className:"about-heading",children:["To learn more about this program from a technical standpoint, visit the ",Object(s.jsx)("a",{href:"https://github.com/ZalmanKelber/Counterpoint-frontend",children:"Github repository"})]}),Object(s.jsxs)("h3",{className:"about-heading",children:["To view a brief demo and explanation, watch ",Object(s.jsx)("a",{href:"https://www.youtube.com/watch?v=WRb-gmUWNR0&feature=youtu.be",children:"this video"})]}),Object(s.jsxs)("h3",{className:"about-heading",children:["To learn more, read ",Object(s.jsx)("a",{href:"https://alexkelber.medium.com/using-a-backtracking-algorithm-to-generate-two-part-imitative-polyphony-in-the-style-of-palestrina-41dac93023b0",children:"this Medium post"})]}),Object(s.jsx)("h3",{className:"about-heading",children:"To learn the basics of what this project is, read the following Q & A"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("hr",{}),Object(s.jsx)("h3",{className:"about-question",children:"Q: I don't know anything about Music Theory or Music History.  What is this?"}),Object(s.jsxs)("p",{children:[Object(s.jsx)("em",{children:"Counterpoint"})," refers to a series of musical composition exercises that have been considered fundamental to Western musical education for centuries.  This program uses an algorithm to compose and display examples of several kinds of these exercises."]}),Object(s.jsxs)("p",{children:["There are many different ",Object(s.jsx)("em",{children:"styles"})," of counterpoint.  These examples are in the style of the 16th century Italian composer ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Giovanni_Pierluigi_da_Palestrina",children:"Giovanni Pierluigi da Palestrina"}),", whose works are often considered a pinnacle of ",Object(s.jsx)("em",{children:"contrapuntal"})," music."]}),Object(s.jsx)("h3",{className:"about-question",children:"Q: so what exactly is counterpoint?"}),Object(s.jsxs)("p",{children:["Counterpoint teaches the art of writing melody and harmony, and does so in a succession of exercises that gradually increase in difficulty and complexity.  The most basic exericise is to write a ",Object(s.jsx)("em",{children:"Cantus Firmus"})," \u2013 a simple unaccompanied melody that has no rhythmic complexity.  The focus is entirely on the order of pitches."]}),Object(s.jsxs)("p",{children:["Subsequent exercises involve writing two simultaneous, polyphonic melodies: one is a Cantus Firmus.  The other is a form of ",Object(s.jsx)("em",{children:"Species Counterpoint"}),".  Species Counterpoint melodies are different kinds of simple melodies that demonstrate various rules that are specific to particular rhythms, as well as corresponding rules for harmony between the Counterpoint line and the Cantus Firmus.  The First Species is essentially identical to a Cantus Firmus. The Species culminate with the Fifth Species, which is essentially a free melody \u2013 one we might actually encounter in the works of Palestrina."]}),Object(s.jsxs)("p",{children:["After Species Counterpoint, the next task is to combine two free melodies (or Fifth Species melodies) together, utilizing all of the rules of harmony and melody that have previously been learned.  In ",Object(s.jsx)("em",{children:"Imitative Counterpoint"}),", the culmination of these exercises, each melody begins, at different times, with the same theme or motif."]}),Object(s.jsx)("h3",{className:"about-question",children:"Q: how many rules of harmony and melody are there?"}),Object(s.jsx)("p",{children:"By the time we've reached counterpoint that involves two free melodies against each other, there are several dozen rules of harmony and melody that have to be followed.  This high number is because Palestrina-style is particularly strict in a variety of ways."}),Object(s.jsx)("h3",{className:"about-question",children:"Q: Are there any rules that non-musical laypeople might understand?"}),Object(s.jsx)("p",{children:"Yes!  In this style of counterpoint, every melody can reach its highest note only once.  And in the First, Second and Third Species, the one instance of the highest note can't occur directly in the middle of the melody."}),Object(s.jsxs)("p",{children:["As a ",Object(s.jsx)("em",{children:"slightly"})," more complicated example, in the First, Second and Third Species in Palestrina-style, when subsequent notes in a melody move ",Object(s.jsx)("em",{children:"upward"}),", larger intervals (that is, the distance between notes) must precede smaller intervals.  When the melody moves ",Object(s.jsx)("em",{children:"downward"}),", smaller intervals must precede larger intervals. These rules are somewhat loosened in the Fourth and Fifth Species."]}),Object(s.jsxs)("p",{children:["The rules regarding harmony generally involve the question of when ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Consonance_and_dissonance",children:"dissonant intervals"})," between the two melodies are allowed.  These rules tend to be fairly complicated because the question of whether or not a dissonant interval is allowed generally has to do with the melodic context of both voices."]}),Object(s.jsx)("h3",{className:"about-question",children:'Q: Are these rules "rules" or "guidelines?"'}),Object(s.jsx)("p",{children:'That\'s an extremely complicated question.  Renaissance Musical Theorists, in their writings, often thought of the rules of counterpoint as manifestations of a singular, unchanging and perfect divine natural order.  The complicated reality is that the actual corpus of music from this period often shows violations of various rules.  There are also unwritten rules that are largely followed (as was particularly apparent when this program was being written).  For the purpose of this program, certain rules are followed strictly.  Others are allowed but "ranked" unfavorably, so that they occasionally but infrequently appear in examples.'}),Object(s.jsx)("h3",{className:"about-question",children:"Q: What's the gist of how this program composes these examples?  Neural networks?  Machine learning?"}),Object(s.jsxs)("p",{children:["Actually, no.  The program that composes these pieces uses a ",Object(s.jsx)("a",{href:"https://en.wikipedia.org/wiki/Backtracking",children:"backtracking algorithm"}),".  In a given example, successive notes are placed one-by-one onto a melody, if they pass a series of rules.  If we arrive at a situation in which no notes can be legally placed, the previous note is removed and replaced with another one. In this way, several correct solutions are generated.  These solutions are then scored, and the best one is returned."]}),Object(s.jsx)("h3",{className:"about-question",children:"Q: Why can't I download an actual audio file of the examples I create as well as a pdf of the score?"}),Object(s.jsx)("p",{children:"This will likely be the next goal of the project.  Technologies that convert MIDI files to actual playable audio and generate PDF's of scores, such as fluidsynth and lilypond, tend to exist as desktop applications or command line interfaces.  There are currently no programs that perform these tasks programatically from python that can be installed as dependencies in deployment."}),Object(s.jsx)("h3",{className:"about-question",children:"Q: What are some of the other next steps for the project?"}),Object(s.jsx)("p",{children:"The program so far only writes examples with one or two simultaneous melodies.  Traditionally, this style of counterpoint culminates with five simultanous melodies."}),Object(s.jsx)("p",{children:"Switching from a backtracking algorithm to a local search algorithm has the possibility of dramatically increasing performance, however this will likely require a complete rewrite of most of the code."}),Object(s.jsx)("h3",{className:"about-question",children:"Q: Whoa.  Five simultaneous, independent melodies, obeying dozens of complex rules? What does that sound like"}),Object(s.jsxs)("p",{children:["For a famous example of five-voice, imitative counterpoint, listen to Palestrina's motet, ",Object(s.jsx)("a",{href:"https://www.youtube.com/watch?v=nRmkj19i4Yk",children:Object(s.jsx)("em",{children:"Exultate Deo"})}),"."]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h3",{className:"about-heading",children:"Technologies used in this project:"}),Object(s.jsx)("p",{children:"Frontend: React, React Router Dom, React H5 Audio Player, MIDIjs"}),Object(s.jsx)("p",{children:"API: Flask, Gunicorn, MIDIUtil"}),Object(s.jsx)("h3",{className:"about-heading",children:"Photo Credits:"}),Object(s.jsxs)("p",{children:["All images of Renaissance artwork from Wikimedia Commons.  All others images from ",Object(s.jsx)("a",{href:"https://pixabay.com/",children:"Pixabay"}),"."]}),Object(s.jsx)("p",{children:"Homepage: Jacques Gaimard, Navbar: Rob Porter, Gallery: Dimitris Vetsikas, Results Player: Enrique Lopez Garre, Thumbnail: Christo Anestev, Ionian box: Robert Balog, Dorian box: Goran Horvat, Phrygian box: Enrique Lopez Garre, Lydian box: Markus Wittmann, Mixolydian box: Hans Braxmeier, Aeolian box: Alexander Stein"})]}),Object(s.jsx)(I,{})]})}}]),n}(i.a.Component)),H=(n(66),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){var e=new XMLHttpRequest;e.open("GET","https://counterpoint-server.herokuapp.com/api/wake_up"),e.onload=function(t){console.log("response from herokuWakeup call:",e.response)},e.send()},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(u.a,{children:[Object(s.jsx)(j.a,{path:"/landing",exact:!0,component:f}),Object(s.jsx)(j.a,{path:"/create",exact:!0,component:G}),Object(s.jsx)(j.a,{path:"/gallery",exact:!0,component:V}),Object(s.jsx)(j.a,{path:"/about",exact:!0,component:W}),Object(s.jsx)(j.a,{path:"/",exact:!0,component:g})]})}}]),n}(i.a.Component));r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(H,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.8e19db34.chunk.js.map